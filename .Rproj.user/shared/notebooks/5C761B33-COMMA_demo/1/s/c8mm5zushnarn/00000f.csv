"0","library(COMMA)"
"0","library(dplyr)"
"0",""
"0","set.seed(20240423)"
"0",""
"0","sample_size <- 10000"
"0",""
"0","n_cat <- 2 # Number of categories in the binary mediator"
"0",""
"0","# Data generation settings"
"0","x_mu <- 0"
"0","x_sigma <- 1"
"0","z_shape <- 1"
"0","z_scale <- 1"
"0","c_shape <- 1"
"0",""
"0","# True parameter values (gamma terms set the misclassification rate)"
"0","true_beta <- matrix(c(1, -2, .5), ncol = 1)"
"0","true_gamma <- matrix(c(1.8, 1, -1.5, -1), nrow = 2, byrow = FALSE) "
"0","true_theta <- matrix(c(1, 1.5, -2.5, -.2, .5), ncol = 1)"
"0",""
"0","# Generate data."
"0","my_data <- COMMA_data(sample_size, x_mu, x_sigma, z_shape, c_shape,"
"0","                      interaction_indicator = TRUE,"
"0","                      outcome_distribution = ""Bernoulli"","
"0","                      true_beta, true_gamma, true_theta)"
"0",""
"0","# Save list elements as vectors."
"0","Mstar = my_data[[""obs_mediator""]]"
"0","Mstar_01 <- ifelse(Mstar == 1, 1, 0)"
"0","outcome = my_data[[""outcome""]]"
"0","x_matrix = my_data[[""x""]]"
"0","z_matrix = my_data[[""z""]]"
"0","c_matrix = my_data[[""c""]]"
